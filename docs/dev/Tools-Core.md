# æ ¸å¿ƒè‡ªåŠ¨åŒ–å·¥å…·è¯¦è§£

> æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»å·²é›†æˆåˆ° CI/CD æµç¨‹çš„æ ¸å¿ƒè‡ªåŠ¨åŒ–å·¥å…·çš„é…ç½®ã€è§„åˆ™å’Œè¾“å‡ºç¤ºä¾‹ã€‚

## ğŸ“¦ Markdown å¤„ç†å™¨

**æ–‡ä»¶**:[tools/fix_markdown.py](../../tools/fix_markdown.py)

### åŠŸèƒ½ç‰¹æ€§

- æ•´åˆäº† 3 ä¸ªç‹¬ç«‹å·¥å…·çš„æ‰€æœ‰åŠŸèƒ½(fix_markdown.py, fix_bold_format.py, fix_list_bold_colon.py)
- æ”¯æŒ 13 æ¡ Markdownlint è§„åˆ™ + 6 æ¡ä¸­æ–‡æ’ç‰ˆè§„åˆ™
- æ‰¹é‡å¤„ç†èƒ½åŠ›
- é¢„è§ˆæ¨¡å¼(`--dry-run`)
- è¯¦ç»†çš„å¤„ç†ç»“æœæŠ¥å‘Š

### æ”¯æŒçš„ä¿®å¤è§„åˆ™

#### Markdownlint æ ‡å‡†è§„åˆ™

- **MD009**:ç§»é™¤è¡Œå°¾ç©ºç™½å­—ç¬¦(åŒ…æ‹¬å…¨è§’ç©ºæ ¼)
- **MD012**:å‹ç¼©è¿ç»­ç©ºè¡Œä¸ºå•è¡Œ
- **MD022**:ç¡®ä¿æ ‡é¢˜å‰åç©ºè¡Œ
- **MD028**:ä¿®å¤å¼•ç”¨å—ä¸­çš„ç©ºè¡Œ
- **MD031**:ç¡®ä¿ä»£ç å—å‰åç©ºè¡Œ
- **MD032**:ç¡®ä¿åˆ—è¡¨å‰åç©ºè¡Œ
- **MD034**:è½¬æ¢è£¸é“¾æ¥ä¸ºæ ‡å‡†æ ¼å¼
- **MD037**:ä¿®å¤å¼ºè°ƒæ ‡è®°å†…ç©ºæ ¼(å¢å¼ºç‰ˆ,æ”¯æŒä¸­æ–‡æ ‡ç‚¹)
- **MD040**:ä¸ºä»£ç å›´æ æ·»åŠ è¯­è¨€æ ‡æ³¨
- **MD047**:ç¡®ä¿æ–‡ä»¶ä»¥å•ä¸ªæ¢è¡Œç»“æŸ

#### ä¸­æ–‡æ’ç‰ˆè§„åˆ™

- **CUSTOM001**:åˆ—è¡¨æ ‡è®°ç©ºæ ¼(`-item` â†’ `- item`)
- **CUSTOM002**:åŠ ç²—ä¸­æ–‡ç©ºæ ¼(`ä¸­æ–‡**åŠ ç²—**åé¢` â†’ `ä¸­æ–‡ **åŠ ç²—** åé¢`)
- **CUSTOM003**:åˆ—è¡¨åŠ ç²—å†’å·(`-**text**: ` â†’ `- **text** : `)
- **CUSTOM004**:é“¾æ¥æ‹¬å·è½¬æ¢(ä¸­æ–‡æ‹¬å· â†’ è‹±æ–‡æ‹¬å·,åŠ ç²—é“¾æ¥æ ¼å¼)
- **CUSTOM005**:é“¾æ¥å‰å†’å·(`å‚è€ƒ:linktext` â†’ `å‚è€ƒ:linktext`)
- **CUSTOM006**:åµŒå¥—åˆ—è¡¨ç¼©è¿›(2ç©ºæ ¼ â†’ 4ç©ºæ ¼,MkDocs è¦æ±‚)

### å‘½ä»¤è¡Œç”¨æ³•

```bash
# å¤„ç†å•ä¸ªæ–‡ä»¶
python tools/fix_markdown.py docs/entries/Tulpa.md

# å¤„ç†æ•´ä¸ªç›®å½•
python tools/fix_markdown.py docs/entries/

# é¢„è§ˆæ¨¡å¼(ä¸å®é™…ä¿®æ”¹)
python tools/fix_markdown.py docs/entries/ --dry-run

# è¯¦ç»†è¾“å‡º
python tools/fix_markdown.py docs/entries/ --verbose
```

### ç¼–ç¨‹æ¥å£

```python
from tools.processors.markdown import MarkdownProcessor, fix_markdown_file

# ä½¿ç”¨å¤„ç†å™¨ç±»
processor = MarkdownProcessor()
result = processor.process_file(Path("docs/entries/example.md"))

# ä½¿ç”¨ä¾¿æ·å‡½æ•°
result = fix_markdown_file("docs/entries/example.md", dry_run=True)

# å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸²
text = "**åŠ ç²—**åé¢"
fixed = processor.process(text)  # "**åŠ ç²—** åé¢"
```

## ğŸ”— é“¾æ¥æ£€æŸ¥å·¥å…·

**æ–‡ä»¶**:[tools/check_links.py](../../tools/check_links.py)

### åŠŸèƒ½ç‰¹æ€§

- âœ… å†…éƒ¨é“¾æ¥å®Œæ•´æ€§éªŒè¯(æ£€æŸ¥ç›®æ ‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨)
- âœ… é“¾æ¥æ ¼å¼è§„èŒƒæ£€æŸ¥(ç›¸å¯¹è·¯å¾„ã€ç»å¯¹è·¯å¾„ç­‰)
- âœ… æ”¯æŒæ£€æŸ¥æ•´ä¸ªé¡¹ç›®ã€æŒ‡å®šç›®å½•æˆ–å•ä¸ªæ–‡ä»¶
- âœ… è¯¦ç»†çš„è¿è§„æŠ¥å‘Š(æ˜¾ç¤ºè¡Œå·ã€ç›®æ ‡ã€é”™è¯¯åŸå› )
- âœ… æ‰¹é‡æ£€æŸ¥èƒ½åŠ›
- âœ… è‡ªåŠ¨è·³è¿‡å¤–éƒ¨é“¾æ¥ã€é”šç‚¹å’Œå›¾ç‰‡

### æ£€æŸ¥è§„åˆ™

æ ¹æ®æ–‡ä»¶æ‰€åœ¨ä½ç½®çš„ä¸åŒ,é“¾æ¥æ ¼å¼è§„èŒƒä¹Ÿä¸åŒ:

1. **è¯æ¡é—´é“¾æ¥**(`docs/entries/` å†…):ç›´æ¥ä½¿ç”¨æ–‡ä»¶å
   - âœ… æ­£ç¡®:`[DID](../entries/DID.md)`(å…¶ä»–ç›®å½•â†’è¯æ¡)
   - âŒ é”™è¯¯:`[DID](DID.md)`(ä»…é™è¯æ¡ç›®å½•å†…)

2. **è¯æ¡â†’å…¶ä»–ç›®å½•**:ä½¿ç”¨ `../` ç›¸å¯¹è·¯å¾„
   - âœ… æ­£ç¡®:`[è´¡çŒ®æŒ‡å—](../contributing/index.md)`
   - âŒ é”™è¯¯:`[è´¡çŒ®æŒ‡å—](contributing/index.md)`

3. **å…¶ä»–ç›®å½•â†’è¯æ¡**:ä½¿ç”¨ `../entries/` è·¯å¾„
   - âœ… æ­£ç¡®:`[DID](../entries/DID.md)`
   - âŒ é”™è¯¯:`[DID](DID.md)`(çœç•¥è·¯å¾„)

4. **ç¦æ­¢äº‹é¡¹**:
   - âŒ ç»å¯¹è·¯å¾„:`/docs/entries/DID.md`
   - âŒ é“¾æ¥åˆ°ä¸å­˜åœ¨çš„æ–‡ä»¶

### å‘½ä»¤è¡Œç”¨æ³•

```bash
# æ£€æŸ¥è¯æ¡ç›®å½•(æ¨è,CI ä½¿ç”¨)
python3 tools/check_links.py docs/entries/

# æ£€æŸ¥æ•´ä¸ªé¡¹ç›®
python3 tools/check_links.py

# æ£€æŸ¥å•ä¸ªæ–‡ä»¶
python3 tools/check_links.py docs/entries/DID.md

# æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯(åŒ…å«é€šè¿‡çš„æ–‡ä»¶)
python3 tools/check_links.py --verbose docs/entries/

# æŒ‡å®šä»“åº“æ ¹ç›®å½•(å½“ä¸åœ¨é¡¹ç›®æ ¹ç›®å½•æ—¶)
python3 tools/check_links.py --root /path/to/repo docs/entries/
```

### è¾“å‡ºç¤ºä¾‹

```text
======================================================================
Markdown é“¾æ¥è§„èŒƒæ£€æŸ¥
======================================================================
ä»“åº“æ ¹ç›®å½•:/path/to/repo
æ‰«æè·¯å¾„:/path/to/repo/docs/entries

æ‰¾åˆ° 205 ä¸ª Markdown æ–‡ä»¶

[è¿è§„] docs/entries/Example.md
  è¡Œ 42: ../../../invalid/path.md
    ç¦æ­¢ä½¿ç”¨ç»å¯¹è·¯å¾„,è¯·ä½¿ç”¨ç›¸å¯¹è·¯å¾„(å¦‚ `../entries/xxx.md`)

  è¡Œ 58: NonExistent.md
    æ–‡ä»¶ä¸å­˜åœ¨:NonExistent.md

======================================================================
[FAIL] å‘ç° 2 å¤„è¿è§„é“¾æ¥(1 ä¸ªæ–‡ä»¶)

æç¤º:
  - è¯æ¡é—´é“¾æ¥ä½¿ç”¨æ–‡ä»¶å:DID.md
  - è¯æ¡åˆ°å…¶ä»–ç›®å½•ä½¿ç”¨:../contributing/index.md
  - å…¶ä»–ç›®å½•åˆ°è¯æ¡ä½¿ç”¨:../entries/DID.md
  - è¯¦è§:docs/contributing/æŠ€æœ¯çº¦å®š.md
```

### æ’é™¤åˆ—è¡¨é…ç½®

è„šæœ¬é»˜è®¤æ’é™¤ä»¥ä¸‹ç±»å‹çš„æ–‡ä»¶(å¯èƒ½åŒ…å«ç¤ºä¾‹é“¾æ¥æˆ–å¾…å®Œå–„å†…å®¹):

1. **æ¨¡æ¿å’Œç¤ºä¾‹æ–‡ä»¶**:`TEMPLATE_ENTRY.md`ã€`404.md`
2. **Contributing æŒ‡å—**:`contributing/` ä¸‹çš„æ‰€æœ‰è§„èŒƒæ–‡æ¡£
3. **å¼€å‘æ–‡æ¡£**:`dev/INDEX_GUIDE.md`ã€`dev/MIGRATION_REPORT.md` ç­‰
4. **å·¥å…·æ–‡æ¡£**:`tools/REFACTORING_PLAN.md`ã€`pdf_export/` ç›¸å…³æ–‡æ¡£
5. **README æ–‡ä»¶**:å„ç›®å½•ä¸‹çš„ `README.md`

å¦‚éœ€æ·»åŠ æ–°çš„æ’é™¤æ–‡ä»¶,è¯·ç¼–è¾‘ [tools/check_links.py:294-327](../../tools/check_links.py#L294-L327) ä¸­çš„ `exclude_files` é›†åˆã€‚

### CI é›†æˆ

æ­¤å·¥å…·å·²é›†æˆåˆ° GitHub Actions å·¥ä½œæµ(`.github/workflows/auto-fix-entries.yml`):

- âœ… åœ¨æ ¼å¼ä¿®å¤åè‡ªåŠ¨æ£€æŸ¥é“¾æ¥è§„èŒƒ
- âœ… å¦‚æœæ£€æŸ¥ä¸é€šè¿‡,CI ä¼šå¤±è´¥å¹¶é˜»æ­¢æäº¤
- âœ… æ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œä¿®å¤æç¤º

## ğŸ“‹ Frontmatter æ£€æŸ¥å·¥å…·

**æ–‡ä»¶**:[tools/check_frontmatter.py](../../tools/check_frontmatter.py)

### åŠŸèƒ½ç‰¹æ€§

- âœ… æ£€æŸ¥è¯æ¡æ˜¯å¦åŒ…å« YAML Frontmatter
- âœ… éªŒè¯å¿…éœ€å­—æ®µå®Œæ•´æ€§(title, tags, topic, description, updated)
- âœ… ç”Ÿæˆè¯¦ç»†çš„æ£€æŸ¥æŠ¥å‘Š
- âœ… æ”¯æŒæ‰¹é‡æ£€æŸ¥æ•´ä¸ªç›®å½•
- âœ… è‡ªåŠ¨æ’é™¤æ¨¡æ¿ã€ç´¢å¼•å’Œå¯¼è§ˆæ–‡ä»¶
- âœ… æä¾›ç»Ÿè®¡ä¿¡æ¯å’Œä¿®å¤å»ºè®®

### æ£€æŸ¥è§„åˆ™

æ ¹æ® `docs/TEMPLATE_ENTRY.md` è§„èŒƒ,æ¯ä¸ªè¯æ¡å¿…é¡»åŒ…å«ä»¥ä¸‹ Frontmatter å­—æ®µ:

1. **title**:è¯æ¡æ ‡é¢˜(ä¸€çº§æ ‡é¢˜æ–‡å­—)
2. **tags**:åˆ†ç±»æ ‡ç­¾(YAML åˆ—è¡¨æ ¼å¼)
3. **topic**:ä¸»é¢˜åˆ†ç±»(ä¸ƒå¤§ä¸»é¢˜ä¹‹ä¸€)
4. **description**:SEO æè¿°(120-155 å­—ç¬¦)
5. **updated**:æœ€åæ›´æ–°æ—¶é—´(YYYY-MM-DD æ ¼å¼)

å¯é€‰å­—æ®µ:
- **synonyms**:åŒä¹‰è¯/åˆ«ååˆ—è¡¨
- **comments**:æ˜¯å¦å¯ç”¨è¯„è®ºåŒº(true/false)

### å‘½ä»¤è¡Œç”¨æ³•

```bash
# æ£€æŸ¥é»˜è®¤ç›®å½•(docs/entries/)
python3 tools/check_frontmatter.py

# æ£€æŸ¥æŒ‡å®šç›®å½•
python3 tools/check_frontmatter.py --path docs/entries/

# æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯(åŒ…æ‹¬å®Œæ•´çš„æ–‡ä»¶)
python3 tools/check_frontmatter.py --verbose
```

### è¾“å‡ºç¤ºä¾‹

```text
======================================================================
Frontmatter å®Œæ•´æ€§æ£€æŸ¥
======================================================================
æ£€æŸ¥ç›®å½•:/path/to/repo/docs/entries
æ‰¾åˆ° 212 ä¸ªè¯æ¡æ–‡ä»¶

ğŸ“‹ Frontmatter ä¸å®Œæ•´çš„æ–‡ä»¶(163 ä¸ª):
----------------------------------------------------------------------
  âš ï¸  Acute-Stress-Disorder-ASD.md
      ç¼ºå°‘å­—æ®µ:description
  âš ï¸  Adaptive.md
      ç¼ºå°‘å­—æ®µ:description
  ...

======================================================================
ğŸ“Š ç»Ÿè®¡ä¿¡æ¯
======================================================================
æ€»æ–‡ä»¶æ•°:        212
å®Œæ•´:            49 (23.1%)
ä¸å®Œæ•´:          163 (76.9%)
ç¼ºå¤± Frontmatter:0 (0.0%)
è§£æé”™è¯¯:        0 (0.0%)
----------------------------------------------------------------------
éœ€è¦ä¿®å¤:        163 (76.9%)

ğŸ’¡ ä¿®å¤å»ºè®®:
   1. å‚è€ƒ docs/TEMPLATE_ENTRY.md ä¸­çš„ Frontmatter æ¨¡æ¿
   2. ç¡®ä¿åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ:title, tags, topic, description, updated
   3. tags åº”ä½¿ç”¨ YAML åˆ—è¡¨æ ¼å¼
   4. description é•¿åº¦åº”ä¸º 120-155 å­—ç¬¦
   5. updated æ ¼å¼åº”ä¸º YYYY-MM-DD
```

## ğŸ•’ Git æ—¶é—´æˆ³æ›´æ–°å·¥å…·

**æ–‡ä»¶**:[tools/update_git_timestamps.py](../../tools/update_git_timestamps.py)

### åŠŸèƒ½ç‰¹æ€§

- âœ… è‡ªåŠ¨è¯»å–æ–‡ä»¶åœ¨ Git ä¸­çš„æœ€åæäº¤æ—¶é—´
- âœ… æ‰¹é‡æ›´æ–° `docs/entries/` ä¸‹çš„æ‰€æœ‰è¯æ¡
- âœ… æ”¯æŒå•æ–‡ä»¶æˆ–ç›®å½•å¤„ç†
- âœ… é¢„è§ˆæ¨¡å¼(`--dry-run`),å¯åœ¨ä¿®æ”¹å‰æŸ¥çœ‹å˜æ›´
- âœ… è¯¦ç»†è¾“å‡ºæ¨¡å¼(`--verbose`),æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶çŠ¶æ€
- âœ… æ™ºèƒ½è·³è¿‡æœªä¿®æ”¹å’Œæœªæäº¤çš„æ–‡ä»¶
- âœ… è‡ªåŠ¨æ·»åŠ æˆ–æ›´æ–° Frontmatter ä¸­çš„ `updated` å­—æ®µ

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æ›´æ–°æ‰€æœ‰è¯æ¡(é»˜è®¤å¤„ç† docs/entries/)
python tools/update_git_timestamps.py

# é¢„è§ˆæ¨¡å¼(ä¸å®é™…ä¿®æ”¹æ–‡ä»¶)
python tools/update_git_timestamps.py --dry-run

# è¯¦ç»†è¾“å‡º(æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶çŠ¶æ€,åŒ…æ‹¬æœªä¿®æ”¹çš„)
python tools/update_git_timestamps.py --verbose

# æ›´æ–°æŒ‡å®šæ–‡ä»¶
python tools/update_git_timestamps.py docs/entries/DID.md

# æ›´æ–°æŒ‡å®šç›®å½•
python tools/update_git_timestamps.py docs/entries/

# ç»„åˆä½¿ç”¨
python tools/update_git_timestamps.py --dry-run --verbose
```

### è¾“å‡ºç¤ºä¾‹

```text
ğŸ“Š æ›´æ–°æ¨¡å¼: æ‰¾åˆ° 125 ä¸ªè¯æ¡æ–‡ä»¶
================================================================================
Attachment-Theory.md                               âœ… å·²æ›´æ–°: 2025-10-05 â†’ 2025-10-11
DID.md                                             âœ“ å·²æ˜¯æœ€æ–°: 2025-10-11
Dissociation.md                                    âœ“ å·²æ˜¯æœ€æ–°: 2025-10-08
Tulpa.md                                           ğŸ”„ å°†æ›´æ–°: 2025-09-28 â†’ 2025-10-10
OSDD.md                                            âš ï¸  è·³è¿‡: æ— æ³•è·å– Git æ—¶é—´æˆ³ (å¯èƒ½æœªæäº¤)
...
================================================================================
âœ¨ å®Œæˆ!

   - å·²ä¿®æ”¹: 23 ä¸ªæ–‡ä»¶
   - å·²è·³è¿‡: 102 ä¸ªæ–‡ä»¶
   - æ€»è®¡: 125 ä¸ªæ–‡ä»¶
```

### å·¥ä½œåŸç†

1. ä½¿ç”¨ `git log -1 --format=%ai` è·å–æ–‡ä»¶çš„æœ€åæäº¤æ—¶é—´
2. è§£æ Markdown æ–‡ä»¶çš„ Frontmatter
3. æ¯”è¾ƒç°æœ‰çš„ `updated` å­—æ®µä¸ Git æ—¶é—´æˆ³
4. å¦‚æœä¸ä¸€è‡´,æ›´æ–° Frontmatter ä¸­çš„ `updated` å­—æ®µ
5. ä¿æŒæ–‡ä»¶çš„å…¶ä»–å†…å®¹ä¸å˜

### æ³¨æ„äº‹é¡¹

- âš ï¸ åªå¤„ç†å·²æäº¤åˆ° Git çš„æ–‡ä»¶,æ–°åˆ›å»ºæœªæäº¤çš„æ–‡ä»¶ä¼šè¢«è·³è¿‡
- âš ï¸ éœ€è¦åœ¨ Git ä»“åº“ä¸­è¿è¡Œ
- âš ï¸ å¦‚æœ Frontmatter ä¸­æ²¡æœ‰ `updated` å­—æ®µ,ä¼šè‡ªåŠ¨æ·»åŠ 
- âš ï¸ æ—¶é—´æ ¼å¼ä¸º `YYYY-MM-DD`(ä¸é¡¹ç›®æ ‡å‡†ä¸€è‡´)
- ğŸ’¡ å»ºè®®åœ¨å¤§é‡ä¿®æ”¹å‰å…ˆä½¿ç”¨ `--dry-run` é¢„è§ˆ

## ğŸ“‚ ä¸»é¢˜åˆ†åŒºç´¢å¼•ç”Ÿæˆ

**æ–‡ä»¶**:[tools/build_partitions_cn.py](../../tools/build_partitions_cn.py)

### åŠŸèƒ½æ¦‚è¿°

è‡ªåŠ¨æ ¹æ®è¯æ¡ Frontmatter ä¸­çš„ `topic` å­—æ®µç”Ÿæˆä¸ƒä¸ªä¸»é¢˜åˆ†åŒºçš„èšåˆç´¢å¼•é¡µ,æä¾›æŒ‰ä¸»é¢˜æµè§ˆè¯æ¡çš„ä¾¿æ·æ–¹å¼ã€‚

### ä¸ƒå¤§ä¸»é¢˜åˆ†åŒº

1. **è¯Šæ–­ä¸ä¸´åºŠ** - DIDã€OSDDã€PTSD ç­‰è¯Šæ–­ç›¸å…³è¯æ¡
2. **ç³»ç»Ÿè¿ä½œ** - åˆ‡æ¢ã€å…±è¯†ã€å†…ä¸–ç•Œç­‰ç³»ç»Ÿæœºåˆ¶
3. **å®è·µæŒ‡å—** - Tulpa åˆ›é€ ã€æ¥åœ°æŠ€å·§ç­‰å®ç”¨æŒ‡å—
4. **åˆ›ä¼¤ä¸ç–—æ„ˆ** - åˆ›ä¼¤å¤„ç†ã€ç–—æ„ˆæ–¹æ³•ã€å¿ƒç†æ²»ç–—
5. **è§’è‰²ä¸èº«ä»½** - äººæ ¼ã€ä¸»äººæ ¼ã€å®ˆé—¨äººç­‰è§’è‰²å®šä¹‰
6. **ç†è®ºä¸åˆ†ç±»** - ç»“æ„æ€§è§£ç¦»ç†è®ºã€åˆ†ç±»ä½“ç³»ç­‰
7. **æ–‡åŒ–ä¸è¡¨ç°** - æ–‡å­¦ã€å½±è§†ä½œå“ä¸­çš„å¤šé‡äººæ ¼è¡¨ç°

### å·¥ä½œåŸç†

1. æ‰«æ `docs/entries/` ä¸‹çš„æ‰€æœ‰è¯æ¡æ–‡ä»¶
2. è¯»å–æ¯ä¸ªè¯æ¡çš„ `topic` å­—æ®µ
3. æŒ‰ä¸»é¢˜åˆ†ç±»èšåˆè¯æ¡ä¿¡æ¯(æ ‡é¢˜ã€è·¯å¾„ã€æ›´æ–°æ—¶é—´)
4. ä¸ºæ¯ä¸ªä¸»é¢˜ç”Ÿæˆç‹¬ç«‹çš„ç´¢å¼•é¡µ(å¦‚ `è¯Šæ–­ä¸ä¸´åºŠ-index.md`)
5. æŒ‰æ›´æ–°æ—¶é—´é™åºæ’åˆ—è¯æ¡åˆ—è¡¨

### è‡ªåŠ¨åŒ–é›†æˆ

- âœ… é€šè¿‡ `mkdocs-gen-files` æ’ä»¶åœ¨æ„å»ºæ—¶è‡ªåŠ¨è¿è¡Œ
- âœ… æ¯æ¬¡ `mkdocs build` æˆ– `mkdocs serve` æ—¶è‡ªåŠ¨æ›´æ–°
- âœ… æ— éœ€æ‰‹åŠ¨ç»´æŠ¤ç´¢å¼•é¡µé¢
- âœ… CI/CD æµç¨‹ä¸­è‡ªåŠ¨ç”Ÿæˆ

### æ‰‹åŠ¨è¿è¡Œ

```bash
# ç›´æ¥è¿è¡Œè„šæœ¬ç”Ÿæˆç´¢å¼•é¡µ
python3 tools/build_partitions_cn.py

# è¾“å‡ºç¤ºä¾‹
[gen] å·²ç”Ÿæˆ 7 ä¸ªä¸­æ–‡åˆ†åŒºç´¢å¼•é¡µã€‚
```

### ç”Ÿæˆçš„ç´¢å¼•é¡µæ ¼å¼

```markdown
---
title: è¯Šæ–­ä¸ä¸´åºŠ
comments: true
---

# è¯Šæ–­ä¸ä¸´åºŠ

> æœ¬é¡µæ±‡æ€»æ‰€æœ‰ä¸»é¢˜ä¸ºã€Œè¯Šæ–­ä¸ä¸´åºŠã€çš„è¯æ¡,åŸæ–‡æ¡£ä»åœ¨ `entries/` ç›®å½•ä¸­ã€‚

## è¯æ¡ä¸€è§ˆ

- [è§£ç¦»æ€§èº«ä»½éšœç¢(DID)](DID.md) â€” *2025-10-14*
- [å…¶ä»–ç‰¹å®šè§£ç¦»æ€§éšœç¢(OSDD)](OSDD.md) â€” *2025-10-14*
- [åˆ›ä¼¤ååº”æ¿€éšœç¢(PTSD)](PTSD.md) â€” *2025-10-14*
...
```

### é…ç½®è¦æ±‚

1. **requirements.txt** - å·²æ·»åŠ  `mkdocs-gen-files>=0.5.0`
2. **mkdocs.yml** - å·²é…ç½® gen-files æ’ä»¶:

```yaml
plugins:
  - gen-files:
      scripts:
        - tools/build_partitions_cn.py
```

### è¯æ¡è¦æ±‚

æ¯ä¸ªè¯æ¡çš„ Frontmatter éœ€åŒ…å« `topic` å­—æ®µ:

```yaml
---
title: è§£ç¦»æ€§èº«ä»½éšœç¢(DID)
topic: è¯Šæ–­ä¸ä¸´åºŠ
tags:
  - DID
  - è§£ç¦»
updated: 2025-10-14
---
```

### ç”Ÿæˆæ–‡ä»¶æ¸…å•

- `Clinical-Diagnosis-index.md` - è¯Šæ–­ä¸ä¸´åºŠç´¢å¼•
- `System-Operations-index.md` - ç³»ç»Ÿè¿ä½œç´¢å¼•
- `Practice-index.md` - å®è·µæŒ‡å—ç´¢å¼•
- `Trauma-Healing-index.md` - åˆ›ä¼¤ä¸ç–—æ„ˆç´¢å¼•
- `Roles-Identity-index.md` - è§’è‰²ä¸èº«ä»½ç´¢å¼•
- `Theory-Classification-index.md` - ç†è®ºä¸åˆ†ç±»ç´¢å¼•
- `Cultural-Media-index.md` - æ–‡åŒ–ä¸è¡¨ç°ç´¢å¼•
- `SUMMARY.md` - ä¾§è¾¹æ å¯¼èˆªé…ç½®(è‡ªåŠ¨ç”Ÿæˆ)

### å¯¼èˆªé›†æˆ

è„šæœ¬è‡ªåŠ¨ç”Ÿæˆ `docs/SUMMARY.md` æ–‡ä»¶,æ§åˆ¶ MkDocs Material çš„ä¾§è¾¹æ å¯¼èˆªã€‚å¯¼èˆªç»“æ„åŒ…æ‹¬:

1. **ä¸»é¢˜ç´¢å¼•é¡µ** - æ¯ä¸ªä¸»é¢˜çš„æ±‡æ€»é¡µé¢
2. **æ‰€æœ‰è¯æ¡** - æŒ‰æ ‡é¢˜é¦–å­—æ¯æ’åº,æ–¹ä¾¿æŸ¥æ‰¾
3. **å­—æ¯åˆ†ç»„** - ä¸­æ–‡è¯æ¡æŒ‰æ‹¼éŸ³é¦–å­—æ¯,è‹±æ–‡è¯æ¡æŒ‰å­—æ¯æ’åº

è¿™ç¡®ä¿äº†ç‚¹è¿›ä»»ä½•è¯æ¡å,å·¦ä¾§ä¾§è¾¹æ éƒ½èƒ½æ˜¾ç¤ºåŒä¸»é¢˜çš„å…¶ä»–è¯æ¡,ä¾¿äºç”¨æˆ·æµè§ˆå’Œå¯¼èˆªã€‚

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [å·¥å…·ç´¢å¼•](Tools-Index.md)
- [æ‰‹åŠ¨å·¥å…·æŒ‡å—](Tools-Manual.md)
- [æŠ€æœ¯çº¦å®š](../contributing/technical-conventions.md)
