# Tools æ¸…ç†å»ºè®®æŠ¥å‘Š

> **ç”Ÿæˆæ—¥æœŸ**ï¼š2025-10-07
> **èƒŒæ™¯**ï¼šDocsify â†’ MkDocs Material è¿ç§»åçš„å·¥å…·å®¡æŸ¥

---

## ğŸ“Š å®¡æŸ¥æ¦‚è§ˆ

| ç±»åˆ« | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| å¯åˆ é™¤ | 2 | åŠŸèƒ½å·²è¢« MkDocs Material å–ä»£ |
| éœ€è¯„ä¼° | 7 | æ ‡ç­¾ç®¡ç†å·¥å…·ç»„ï¼Œéœ€ç¡®è®¤ä½¿ç”¨æƒ…å†µ |
| ä¿ç•™ | 6 | æ ¸å¿ƒå·¥å…·ï¼Œä»ç„¶éœ€è¦ |

---

## ğŸ—‘ï¸ å»ºè®®åˆ é™¤çš„å·¥å…·ï¼ˆ2 ä¸ªï¼‰

### 1. `docs_preview.py`

**åŠŸèƒ½**ï¼šæœ¬åœ°é¢„è§ˆæœåŠ¡å™¨ï¼ˆæ”¯æŒ Docsify å’Œ Python http.serverï¼‰

**åˆ é™¤ç†ç”±**ï¼š

- ä¸º Docsify è®¾è®¡ï¼Œæ”¯æŒ `docsify-cli` å¯åŠ¨
- MkDocs Material æä¾›å†…ç½®é¢„è§ˆå‘½ä»¤ï¼š`mkdocs serve`
- MkDocs é¢„è§ˆåŠŸèƒ½æ›´å¼ºå¤§ï¼ˆçƒ­é‡è½½ã€è‡ªåŠ¨æ„å»ºï¼‰

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š

```bash

# åŸºæœ¬é¢„è§ˆ

mkdocs serve

# è‡ªå®šä¹‰ç«¯å£

mkdocs serve --dev-addr=127.0.0.1:4173

# ç”Ÿäº§æ¨¡å¼é¢„è§ˆ

mkdocs build && python -m http.server -d site/ 8080
```

**å½±å“è¯„ä¼°**ï¼šâœ… æ— å½±å“ï¼ŒMkDocs å‘½ä»¤æ›´ç®€å•

---

### 2. `generate_tags_index.py`

**åŠŸèƒ½**ï¼šæ ¹æ® Frontmatter è‡ªåŠ¨ç”Ÿæˆ `docs/tags.md` æ ‡ç­¾ç´¢å¼•é¡µé¢

**åˆ é™¤ç†ç”±**ï¼š

- MkDocs Material çš„ `tags` æ’ä»¶è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾é¡µé¢
- å½“å‰ `docs/tags.md` å·²æ”¹ä¸ºæ‰‹åŠ¨ç»´æŠ¤çš„å¯¼è§ˆé¡µ + è‡ªåŠ¨æ ‡ç­¾åˆ—è¡¨
- ä½¿ç”¨ `&lt;!-- material/tags --&gt;` æ³¨é‡Šè‡ªåŠ¨æ’å…¥æ ‡ç­¾

**å½“å‰ tags.md ç»“æ„**ï¼š

```markdown

# æ ‡ç­¾ç´¢å¼•

æµè§ˆå…¨éƒ¨è¯æ¡çš„åˆ†ç±»æ ‡ç­¾...

## ä¸»é¢˜å¯¼è§ˆ

- è¯Šæ–­ä¸ä¸´åºŠ
- ç³»ç»Ÿè¿ä½œ

...

## å…¨éƒ¨æ ‡ç­¾

&lt;!-- material/tags --&gt;  â† è‡ªåŠ¨ç”Ÿæˆéƒ¨åˆ†
```

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š

- æ— éœ€è„šæœ¬ï¼ŒMkDocs Material tags æ’ä»¶è‡ªåŠ¨å¤„ç†
- æ‰‹åŠ¨ç»´æŠ¤å¯¼è§ˆéƒ¨åˆ†å³å¯

**å½±å“è¯„ä¼°**ï¼šâœ… æ— å½±å“ï¼ŒåŠŸèƒ½å·²è¢«æ’ä»¶å–ä»£

---

## âš ï¸ éœ€è¦è¯„ä¼°çš„å·¥å…·ï¼ˆ7 ä¸ªï¼‰

### æ ‡ç­¾ç®¡ç†å·¥å…·ç»„

è¿™äº›å·¥å…·ç”¨äºæ‰¹é‡ç®¡ç†å’Œä¼˜åŒ–è¯æ¡æ ‡ç­¾ï¼Œéœ€è¦ç¡®è®¤æ˜¯å¦ä»åœ¨ä½¿ç”¨ï¼š

| å·¥å…· | åŠŸèƒ½æè¿° | è¯„ä¼°é—®é¢˜ |
|------|----------|----------|
| `add_top_level_tags.py` | æ·»åŠ é¡¶å±‚æ ‡ç­¾ | æ˜¯å¦è¿˜éœ€è¦æ‰¹é‡æ·»åŠ æ ‡ç­¾ï¼Ÿ |
| `add_topic_tags.py` | æ·»åŠ ä¸»é¢˜æ ‡ç­¾ | MkDocs tags æ˜¯å¦è¶³å¤Ÿï¼Ÿ |
| `analyze_current_tags.py` | åˆ†æå½“å‰æ ‡ç­¾ä½¿ç”¨æƒ…å†µ | æ˜¯å¦éœ€è¦æ ‡ç­¾ç»Ÿè®¡ï¼Ÿ |
| `analyze_tags.py` | æ ‡ç­¾åˆ†æ | åŠŸèƒ½æ˜¯å¦é‡å¤ï¼Ÿ |
| `optimize_tags.py` | ä¼˜åŒ–æ ‡ç­¾ç»“æ„ | æ˜¯å¦è¿˜åœ¨ä¼˜åŒ–æ ‡ç­¾ï¼Ÿ |
| `update_entry_tags.py` | æ›´æ–°è¯æ¡æ ‡ç­¾ | æ˜¯å¦éœ€è¦æ‰¹é‡æ›´æ–°ï¼Ÿ |
| `retag_and_related.py` | é‡æ–°æ ‡è®°å’Œå…³è”åˆ†æ | 27KB å¤§æ–‡ä»¶ï¼ŒåŠŸèƒ½å¤æ‚ |

**å»ºè®®**ï¼š

1. æ£€æŸ¥æœ€è¿‘ 3 ä¸ªæœˆçš„ä½¿ç”¨è®°å½•
2. å¦‚æœä¸å†ä½¿ç”¨ï¼Œç§»åŠ¨åˆ° `tools/deprecated/` ç›®å½•
3. å¦‚æœä»éœ€è¦ï¼Œè€ƒè™‘æ•´åˆä¸ºç»Ÿä¸€çš„æ ‡ç­¾ç®¡ç† CLI

---

## âœ… å»ºè®®ä¿ç•™çš„å·¥å…·ï¼ˆ6 ä¸ªï¼‰

### æ ¸å¿ƒå·¥å…·

| å·¥å…· | åŠŸèƒ½ | ä¿ç•™ç†ç”± |
|------|------|----------|
| `fix_markdown.py` | Markdown æ ¼å¼è‡ªåŠ¨ä¿®å¤ | æ ¸å¿ƒå·¥å…·ï¼Œä¸ MkDocs æ— å…³ |
| `check_links.py` | é“¾æ¥æœ‰æ•ˆæ€§æ£€æŸ¥ | MkDocs æ— å†…ç½®é“¾æ¥æ£€æŸ¥ |
| `gen-validation-report.py` | å†…å®¹æ ¡éªŒæŠ¥å‘Š | è´¨é‡æ§åˆ¶å¿…éœ€ |
| `fix_bold_format.py` | ä¿®å¤ç²—ä½“æ ¼å¼ | æ ¼å¼æ¸…ç†å·¥å…· |
| `fix_list_bold_colon.py` | ä¿®å¤åˆ—è¡¨ç²—ä½“å†’å·æ ¼å¼ | æ ¼å¼æ¸…ç†å·¥å…· |
| `gen_changelog_by_tags.py` | åŸºäº Git æ ‡ç­¾ç”Ÿæˆå˜æ›´æ—¥å¿— | å‘å¸ƒç®¡ç†éœ€è¦ |

---

## ğŸ“‹ æ‰§è¡Œè®¡åˆ’

### ç¬¬ä¸€æ­¥ï¼šåˆ é™¤è¿‡æ—¶å·¥å…·ï¼ˆç«‹å³æ‰§è¡Œï¼‰

```bash

# åˆ›å»ºå¤‡ä»½ç›®å½•

mkdir -p tools/deprecated

# ç§»åŠ¨è¿‡æ—¶å·¥å…·

git mv tools/docs_preview.py tools/deprecated/
git mv tools/generate_tags_index.py tools/deprecated/

# æäº¤

git commit -m "refactor: ç§»é™¤ Docsify æ—¶ä»£çš„è¿‡æ—¶å·¥å…·

- docs_preview.py â†’ ä½¿ç”¨ mkdocs serve æ›¿ä»£
- generate_tags_index.py â†’ ä½¿ç”¨ MkDocs Material tags æ’ä»¶æ›¿ä»£

ç›¸å…³æ–‡æ¡£ï¼štools/CLEANUP_RECOMMENDATIONS.md"
```

### ç¬¬äºŒæ­¥ï¼šè¯„ä¼°æ ‡ç­¾å·¥å…·ï¼ˆéœ€è°ƒç ”ï¼‰

**è°ƒç ”é—®é¢˜**ï¼š

1. è¿™äº›å·¥å…·æœ€åä½¿ç”¨æ—¶é—´ï¼Ÿ
2. æ˜¯å¦åœ¨ CI/CD ä¸­ä½¿ç”¨ï¼Ÿ
3. æ˜¯å¦æœ‰æ–‡æ¡£ä¾èµ–ï¼Ÿ
4. åŠŸèƒ½æ˜¯å¦å¯è¢« MkDocs æ’ä»¶æ›¿ä»£ï¼Ÿ

**æ–¹æ³•**ï¼š

```bash

# æŸ¥çœ‹æœ€åä¿®æ”¹æ—¶é—´

ls -lt tools/*.py

# æœç´¢ä½¿ç”¨å¼•ç”¨

rg -g "*.{sh,bat,yml,yaml,md}" "add_top_level_tags|add_topic_tags|analyze_tags"

# æ£€æŸ¥ Git å†å²

git log --all --oneline --since="3 months ago" -- tools/add_*.py
```

### ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°æ–‡æ¡£ï¼ˆåŒæ­¥æ‰§è¡Œï¼‰

**éœ€è¦æ›´æ–°çš„æ–‡æ¡£**ï¼š

1. `tools/REFACTORING_PLAN.md` - åæ˜  MkDocs è¿ç§»å½±å“
2. `docs/contributing/å·¥å…·ä½¿ç”¨.md` - æ›´æ–°å·¥å…·åˆ—è¡¨
3. `CONTRIBUTING/index.md` - æ›´æ–°å¿«é€Ÿå‚è€ƒ
4. `.github/workflows/*.yml` - æ£€æŸ¥ CI ä¸­çš„å·¥å…·è°ƒç”¨

---

## ğŸ¯ é¢„æœŸæ•ˆæœ

**æ¸…ç†åçš„æ”¶ç›Š**ï¼š

- âœ… å‡å°‘ç»´æŠ¤è´Ÿæ‹…ï¼ˆåˆ é™¤ 2 ä¸ªä¸å†éœ€è¦çš„è„šæœ¬ï¼‰
- âœ… é¿å…æ··æ·†ï¼ˆæ˜ç¡®ä½¿ç”¨ MkDocs åŸç”ŸåŠŸèƒ½ï¼‰
- âœ… ç®€åŒ–å·¥å…·é“¾ï¼ˆå‡å°‘ä¾èµ–ï¼‰
- âœ… é™ä½å­¦ä¹ æ›²çº¿ï¼ˆæ–°è´¡çŒ®è€…åªéœ€å­¦ä¹ å¿…è¦å·¥å…·ï¼‰

**é£é™©æ§åˆ¶**ï¼š

- ğŸ›¡ï¸ ç§»åŠ¨åˆ° `deprecated/` è€Œéç›´æ¥åˆ é™¤
- ğŸ›¡ï¸ ä¿ç•™ Git å†å²ï¼Œéšæ—¶å¯æ¢å¤
- ğŸ›¡ï¸ æ›´æ–°æ–‡æ¡£ï¼Œé¿å…è¯¯ç”¨

---

## ğŸ“ é™„å½•ï¼šMkDocs Material æ›¿ä»£åŠŸèƒ½å¯¹ç…§è¡¨

| æ—§å·¥å…· | MkDocs Material åŠŸèƒ½ | é…ç½®ä½ç½® |
|--------|---------------------|---------|
| `docs_preview.py` | `mkdocs serve` | å†…ç½®å‘½ä»¤ |
| `generate_tags_index.py` | tags æ’ä»¶ | `mkdocs.yml` - `plugins.tags` |
| æœç´¢ç´¢å¼•ç”Ÿæˆ | search æ’ä»¶ | `mkdocs.yml` - `plugins.search` |
| æ—¶é—´æˆ³ç®¡ç† | git-revision-date-localized æ’ä»¶ | `mkdocs.yml` - `plugins.git-revision-date-localized` |
| å¯¼èˆªç”Ÿæˆ | `nav` é…ç½® | `mkdocs.yml` - `nav` |
| HTML å‹ç¼© | minify æ’ä»¶ | `mkdocs.yml` - `plugins.minify` |
| å›¾ç‰‡ç¯ç®± | glightbox æ’ä»¶ | `mkdocs.yml` - `plugins.glightbox` |

---

**ç»´æŠ¤è€…**ï¼šMultiple Personality System Wiki Team
**æœ€åæ›´æ–°**ï¼š2025-10-07
